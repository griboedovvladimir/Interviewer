!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){},,,,function(e,t,n){"use strict";n.r(t);n(0);const o=[{name:"j.doe",password:"123456789",rights:"user",token:""},{name:"m.smith",password:"123456789",rights:"admin",token:""}],i="INTERVIEWER_TOKEN";class s extends HTMLElement{constructor(){super(),this.usersData=o,this.shadow="",this.render()}render(){document.body.innerHTML="",this.shadow=this.attachShadow({mode:"open"}),fetch("./layouts/login-page.html").then(e=>{e.text().then(e=>{this.shadow.innerHTML='<link rel="stylesheet" type="text/css" href = \'style.css\'>'+e,this.addEvents()})})}addEvents(){this.shadow.addEventListener("click",this)}handleEvent(e){"submit"===e.target.type&&this.formCheck()&&(document.location.href="#main",this.remove())}formCheck(){let e=this.shadow.querySelector("form").elements,t={name:"",password:""},n=!1;for(let n=0;n<e.length;n++)"loginName"===e[n].id?t.name=e[n].value:"loginPassword"===e[n].id&&(t.password=e[n].value);return this.usersData.forEach(e=>{e.name===t.name&&e.password===t.password&&(localStorage.setItem(i,function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}()),n=!0)}),n}disconnectedCallback(){this.shadow.removeEventListener("click",this)}}const r=[{id:101,name:"Don Aubrey",specialization:"Frontend developer",level:1,date:"06.09.2018",status:"ok"},{id:102,name:"Sophia Carson",specialization:"Frontend developer",level:2,date:"11.09.2018",status:"ok"},{id:103,name:"Steve Moreno",specialization:"Frontend developer",level:2,date:"03.09.2018",status:"ok"},{id:104,name:"John Doe",specialization:"Frontend developer",level:1,date:"16.09.2018",status:"ok"}];const a=document.createElement("modal-el");customElements.define("modal-el",class extends HTMLElement{constructor(){super(),this.shadow="",this.render()}render(){this.shadow=this.attachShadow({mode:"open"}),fetch("./layouts/modal-window.html").then(e=>{e.text().then(e=>{this.shadow.innerHTML='<link rel="stylesheet" type="text/css" href = \'style.css\'>'+e,this.addEvents()})})}addEvents(){this.shadow.addEventListener("click",this)}handleEvent(e){if("submit"===e.target.type&&this.formChecker()){let e={id:Date.now(),name:"",specialization:"",level:0,date:(new Date).toLocaleDateString("ru-RU",{day:"numeric",month:"numeric",year:"numeric"}).split(" ").join("."),status:"ok"};for(let t of this.shadow.querySelector("form").elements)"interviewName"===t.id?e.name=t.value:"level"===t.id?e.level=t.value:"specialization"===t.id&&(e.specialization=t.value);this.shadow.querySelector("form").reset(),r.unshift(e),document.querySelector("main-el").remove(),document.getElementById("overlay").remove(),document.body.appendChild(document.createElement("main-el"))}}formChecker(){for(let e of this.shadow.querySelector("form").elements)if("submit"!==e.type&&!this.shadow.querySelector("form").checkValidity())return!1;return!0}attributeChangedCallback(e,t,n){"visible"===n?(this.shadow.querySelector(".modal").classList.remove("modal-hidden"),this.shadow.querySelector(".modal").classList.add("modal-active")):"hidden"===n&&this.shadow.querySelector(".modal")&&(this.shadow.querySelector(".modal").classList.remove("modal-active"),this.shadow.querySelector(".modal").classList.add("modal-hidden"))}static get observedAttributes(){return["visibility"]}disconnectedCallback(){}}),customElements.define("menu-el",class extends HTMLElement{constructor(){super(),this.shadow="",this.render()}render(){document.querySelector("menu-el")||(this.shadow=this.attachShadow({mode:"open"}),fetch("./layouts/menu.html").then(e=>{e.text().then(e=>{this.shadow.innerHTML='<link rel="stylesheet" type="text/css" href = \'style.css\'>'+e,this.addEvents(),this.locate()})}))}addEvents(){this.shadow.addEventListener("click",this)}handleEvent(e){"logout"===e.target.id?(localStorage.clear(),document.location.href="#login"):"main"===e.target.id?document.location.href="#main":"interview"===e.target.id||e.target.id}locate(){new RegExp("#main/?([\\w\\s]+)?").test(window.location.hash)&&(this.shadow.querySelector("#main").style.color=" #00857c")}attributeChangedCallback(e,t,n){}static get observedAttributes(){return["visibility"]}disconnectedCallback(){}});class d extends HTMLElement{constructor(){super(),this.shadow="",this.render(),this.interviewData=r}render(){document.querySelector("main-el")||(this.shadow=this.attachShadow({mode:"open"}),fetch("./layouts/main-page.html").then(e=>{e.text().then(e=>{this.shadow.innerHTML='<link rel="stylesheet" type="text/css" href = \'style.css\'>'+e,this.tableRender(this.interviewData),this.addEvents(),this.modal=a,this.modal.setAttribute("visibility","hidden"),document.body.appendChild(this.modal)})}))}addEvents(){this.shadow.addEventListener("click",this)}handleEvent(e){"addBtn"===e.target.id?this.openModal():"edit"===e.target.id?document.location.href=`#main/interview/${e.target.parentNode.id}`:"view"===e.target.id?document.location.href=`#main/statistic/${e.target.parentNode.id}`:"delete"===e.target.id&&(e.target.parentNode.parentNode.remove(),r.forEach((t,n,o)=>{t.id.toString()===e.target.parentNode.id&&r.splice(n,1)}))}tableRender(e){let t=document.createDocumentFragment();for(let n of e){let e=document.createElement("tr");for(let t in n)if("id"!==t){let o=document.createElement("td");"name"===t&&o.classList.add("mdl-data-table__cell--non-numeric"),o.innerHTML=n[t],e.appendChild(o)}e.innerHTML=e.innerHTML+`<td id="${n.id}"><i id="view" class="material-icons person-actions">visibility</i>\n                <i id="edit" class="material-icons person-actions">create</i>\n                <i id="delete" class="material-icons person-actions">delete</i></td>`,t.appendChild(e)}this.shadow.querySelector("tbody").appendChild(t)}openModal(){let e=this,t=document.createElement("div");t.id="overlay",document.body.appendChild(t);let n=()=>{t.removeEventListener("click",n),t.remove(),e.modal.setAttribute("visibility","hidden")};t.addEventListener("click",n),this.modal.setAttribute("visibility","visible")}disconnectedCallback(){this.shadow.removeEventListener("click",this)}}class l extends HTMLElement{constructor(){super(),this.shadow="",this.render()}render(){document.querySelector("interview-el")||(this.shadow=this.attachShadow({mode:"open"}),this.personId="",fetch("./layouts/interview-page.html").then(e=>{e.text().then(e=>{this.shadow.innerHTML='<link rel="stylesheet" type="text/css" href = \'style.css\'>'+e,this.renderBreadcrumbs(this.personId),this.addEvents()})}))}renderBreadcrumbs(e){for(let t of r)t.id.toString()===e.toString()&&(this.shadow.querySelector("#nameChip").innerHTML=t.name,this.shadow.querySelector("#levelChip").innerHTML="D"+t.level)}addEvents(){}handleEvent(e){}attributeChangedCallback(e,t,n){this.personId=n}static get observedAttributes(){return["person-id"]}disconnectedCallback(){}}class c extends HTMLElement{constructor(){super(),this.shadow="",this.render()}render(){document.querySelector("interview-el")||(this.shadow=this.attachShadow({mode:"open"}),this.personId="",fetch("./layouts/person-statistic-page.html").then(e=>{e.text().then(e=>{this.shadow.innerHTML='<link rel="stylesheet" type="text/css" href = \'style.css\'>'+e,this.renderBreadcrumbs(this.personId),this.addEvents()})}))}renderBreadcrumbs(e){for(let e of r)e.id.toString()===this.personId.toString()&&(this.shadow.querySelector("#nameChip").innerHTML=e.name,this.shadow.querySelector("#levelChip").innerHTML="D"+e.level)}addEvents(){}handleEvent(e){}attributeChangedCallback(e,t,n){this.personId=n}static get observedAttributes(){return["person-id"]}disconnectedCallback(){}}new class{constructor(){window.addEventListener("hashchange",this.rout,!1),window.addEventListener("load",()=>{this.rout()},!1),customElements.define("main-el",d),customElements.define("login-el",s),customElements.define("interview-el",l),customElements.define("person-statistic-el",c)}rout(){switch(location.hash){case"":localStorage.getItem("INTERVIEWER_TOKEN")?(document.location.href="#main",document.body.innerHTML="",document.body.appendChild(document.createElement("main-el"))):(document.location.href="#login",document.body.innerHTML="",document.body.appendChild(document.createElement("login-el")));break;case"#main":localStorage.getItem("INTERVIEWER_TOKEN")?(document.location.href="#main",document.body.innerHTML="",document.body.appendChild(document.createElement("menu-el")),document.body.appendChild(document.createElement("main-el"))):(document.location.href="#login",document.body.innerHTML="",document.body.appendChild(document.createElement("login-el")));break;case`#main/interview/${document.location.hash.split("/")[2]}`:document.querySelector("menu-el")||document.body.appendChild(document.createElement("menu-el")),document.querySelector("main-el")&&(document.querySelector("main-el").remove(),document.querySelector("modal-el").remove());let e=document.createElement("interview-el");e.setAttribute("person-id",document.location.hash.split("/")[2]),document.body.appendChild(e);break;case`#main/statistic/${document.location.hash.split("/")[2]}`:document.querySelector("menu-el")||document.body.appendChild(document.createElement("menu-el")),document.querySelector("main-el")&&(document.querySelector("main-el").remove(),document.querySelector("modal-el").remove());let t=document.createElement("person-statistic-el");t.setAttribute("person-id",document.location.hash.split("/")[2]),document.body.appendChild(t);break;case"#login":localStorage.getItem("INTERVIEWER_TOKEN")?(document.location.href="#main",document.body.innerHTML="",document.body.appendChild(document.createElement("main-el"))):(document.location.href="#login",document.body.innerHTML="",document.body.appendChild(document.createElement("login-el")))}}}}]);